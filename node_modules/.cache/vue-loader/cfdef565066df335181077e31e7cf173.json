{"remainingRequest":"D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\operate_system\\src\\components\\ServiceAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\operate_system\\src\\components\\ServiceAnalysis.vue","mtime":1543376220535},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\babel-loader\\lib\\index.js","mtime":1542166452696},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1542166473519}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport $http from '../common/js/api'\nimport moment from 'moment'\nimport { setOtherLineData } from '../common/js/myCharts'\nimport echarts from 'echarts'\nexport default {\n  data() {\n    return {\n      formInline: {\n        serviceNames: []\n      },\n      serviceName: '',\n      serviceArr: [],\n      customerArr: [],\n      flag: false,\n      minutesArr: [],\n      timeId: null,\n      m: 0\n    }\n  },\n  methods: {\n    services () {\n      let url = '/operation/down/queryServices'\n      $http(url, {}, 'get').then((res) => {\n        this.serviceArr = res.resData\n        if (this.serviceArr && this.serviceArr.length) {\n          this.serviceName = this.serviceArr[0].serviceName\n        }\n      })\n    },\n    getCoustomer (value) {\n      let loginNames = []\n      if (value === 'IDNameCheck') {\n        loginNames = [\"taimiaoxinxi\",\"yunchen\",\"beidou\",\"yunfeng\",\"beikejinkong\",\"qinzhishuma\",\"test\",\"58jinrong01\",\"weiyankeji\",\"ruisai\",\"jiean\",\"chuanglan\",\"yijifu\",\"suyouda\",\"songshunxinxi\",\"lianjinsuo\",\"ruanyinantong\",\"duanhuanhuan\",\"VULOG\",\"qianbaohaoche\",\"xinqiang\",\"xinzuhui\",\"jiayinzhengxin\",\"tianqiguofu\",\"qian\",\"youzu\",\"shiyukeji\",\"hongyuan\",\"milianyunchuang\",\"ningmi\",\"yundaikeji\",\"zijin\",\"zhongjinhang\",\"shengjinnong\",\"haoxin\",\"choushane\",\"kafeijinrong\",\"panwan\",\"tianchuang1\",\"renrun\",\"tanzhishuju\",\"xinqiandai\",\"jinlianhuitong\",\"aibaojiazheng\",\"xianfengzhifu\",\"gotoway\",\"shujubao\",\"guangfubao\",\"Simon0328\",\"hongxin\",\"baiqishi\",\"chedun0820\",\"xiaoxin\",\"yishou\",\"zhonghang\",\"shoukuliandiao\",\"yucunkeji\",\"changjiezhifu\",\"shengdatest\",\"yuqiang\",\"yishouyin\",\"tongcheng\",\"beitaijinfu\",\"meituan\",\"fenmi\",\"test0826\",\"lianghaodai\",\"xiangyunteng\",\"yimei\",\"guoxinyouyi\",\"zhenge\",\"tongzheng\",\"tielong\",\"testSimon1\",\"wangtouwang\",\"dajiaying\",\"xiaoshidai\",\"shandianhebao\",\"lingxianjinrong\",\"weisudai\",\"jihuojie\",\"renrenhunlian\",\"qianbao\",\"ronghui\",\"quanmuxing\",\"testHuafu\",\"nuoya\",\"huixiangtiancheng\",\"xinhuashuju\",\"tiantianouya\",\"zishuipan\",\"lingjiang\",\"qiyidai\",\"youli2\",\"yincai\",\"test_alarm\",\"runhengfeng\",\"zhongsheng\",\"zhoushouyes\",\"xinyada\",\"zhaoweibin\",\"jiangxin\",\"shualiankeji\",\"shengdunkeji\",\"bjdingxiang\",\"tianying\",\"xiaodouding\",\"wangzhejinka\",\"shangbang\",\"huixiang\",\"xinjiyuan\",\"91zhengxin\",\"shuzun\",\"mobaikeji\",\"jixin\",\"chuanhuazhifu\",\"yibaba\",\"huafuxinxi\",\"testMoney\",\"zewei\",\"koudai\",\"wanggang\",\"puhuishuju\",\"momo\",\"shengfutong\",\"changan\",\"fenglihe\",\"nuozhengtong\",\"baishiyi\",\"wolaidai\",\"yilianyinhang\",\"bingjian\",\"yilian\",\"yishangdai\",\"zhironghui\",\"dianchou2\",\"hongshu\",\"jiupai\",\"testjd\",\"鱼耀金融\",\"jinyuntong\",\"zhongchengxin01\",\"kunying\",\"shunjingfa\",\"xianjinzhuanche\",\"zupukeji\",\"zhoubingyang\",\"bangfubao\",\"rongdou0913\",\"chengduzhidao\",\"pengju\",\"ruirongtianxia\",\"wolongdashuju\",\"tuniu\",\"moxieshuju\",\"quanbeikeji\",\"zhigu\",\"jingzhenshidai\",\"dingxiang2018\",\"jiazhengzhijia\",\"youli1\",\"qianlong\",\"yiwangxi\",\"baite\",\"yicheng\",\"yamu\",\"kaijie\",\"haier\",\"tongzhanggui\",\"handi\",\"test2\",\"jingjing\",\"youxin\",\"juheshuju0208\",\"shimingbao\",\"xinglv\",\"chengxin\",\"taida\",\"yixun2016\",\"jiuyuan\",\"qianbaojinfu\",\"zhongyanyitong\",\"kangruide\",\"chuanhuahuiyuan\",\"tuling\",\"daoshengkeji\",\"suanhua\",\"beifu\",\"junxin\",\"hefeiyuying\",\"limu\",\"hengaikeji\",\"touna\",\"chuangming\",\"tongfudun\",\"jiajiacaifu\",\"zhangpeiyus\",\"zhonghaiwai\",\"taishancaichan\",\"jinxunhechuang\",\"jinyungtong\",\"tianyi3\",\"wangrunjinfu\",\"hujinshidai2018\",\"jizhi\",\"yinshengzhifu\",\"qianyi\",\"jiayoutong\",\"cjtest\",\"bianlidai\",\"maidanxia\",\"zhangcunbao\",\"bangfutong\",\"shanxica\",\"shujing\",\"yinhuotong\",\"zhonghuizhifu\",\"anrongzhengxin\",\"haitun\",\"huoke\",\"qianbaowangjin1111\",\"jienuo\",\"anhe\",\"zhongxinlihe\",\"yige\",\"fuqing\",\"qianchen\",\"duomi\",\"xiaodai\",\"quancun\",\"wenhai\",\"weipintest\",\"weichengzx\",\"JSguangdian\",\"dongxiao\",\"dongfangmingzhu\",\"58jinrong\",\"shujubao01\",\"wuxingkonggu\",\"aixixinxi\",\"shandiandai\",\"dianshen\",\"shanglong\",\"anbao\",\"milidai\",\"hangzhouhedun\",\"xinhua\",\"tianxingshuke\",\"fuafuxinxi\",\"xsProduction\",\"sixixinxi\",\"zunxin\",\"liantongzhineng\",\"moxiekeji\",\"tongjidaxue\",\"zhongqing\",\"chuangshihuaxin\",\"hemaxinxi\",\"huadaoshuju\",\"tiantianlicai\",\"xiaoerduo\",\"yiliankeji\",\"hanxin\",\"fnc\",\"wanjiajinrong\",\"daxin\",\"deke\",\"youbei\",\"shenzhourong2\",\"FESCO\",\"dianjin\",\"zhuyinsuo\",\"legua\",\"dexinpuhui\",\"duanweizhis\",\"geile\",\"jiujinsuo\",\"xiangyue\",\"xinyanzhengxin2\",\"weishidun\",\"guazi\",\"kuaifutong\",\"dingfengjinrong\",\"member\",\"shumaikeji\",\"qianbaobaoli\",\"shouqian\",\"shulian\",\"yifeng\",\"zhongyuanjinrong\",\"chaocai\",\"shoushan\",\"xinlang\",\"hefeizishang\",\"huoshuju\",\"xindaxin\",\"lianshengxinding\",\"yuhaihengtong\",\"shenmajinrong\",\"test_MM\",\"heyunchou\",\"nanjingkuaige2\",\"songshujinrong\",\"testOnline\",\"hepu\",\"shuqu\",\"banjinwang\",\"shunfengjinrong\",\"shenghuoke\",\"zhuyingbaobao\",\"changxin\",\"zhonglianshangwu\",\"chengxiaofei\",\"yuanqidan\",\"youshukeji\",\"shengda\",\"zhongjin\",\"yingdong\",\"zhongyuanjinrong2\",\"xiaoshi\",\"qianbaowangjin\",\"shangtong\",\"fenjinshe\",\"qianyankeji\",\"huiyuekeji\",\"songhongkeji\",\"xianzaizhifu\",\"ruanzhi\",\"huangfeng\",\"zhongli\",\"renhezhong2\",\"zhongankeji\",\"zhongyou\",\"kubao\",\"fuyu\",\"zhaocai\",\"yichenkeji\",\"zhongshenzichan\",\"zhongrongjin\",\"fujinsuo\",\"huifu\",\"bajieqianbao\",\"nanlang\",\"youyu\",\"jiaozhen\",\"shuyunpuhui\",\"wukongzuche\",\"taiyuan\",\"yinchu\",\"kbcs\",\"shulixinxi\",\"qiuce\",\"longze\",\"youmeng0423\",\"suanli\",\"bailianyouli\",\"huazhong\",\"wenzhouliquan\",\"lianshengxd\",\"gxtest\",\"yunyihutong\",\"fanchi\",\"youdun\",\"shenzhouweizhi\",\"xiandaiwuliu\",\"gegejia\",\"linggao\",\"yunyexinxi\",\"daolonghuaer\",\"lvxun\",\"guojiawuliu\",\"yongyizhifu\",\"sanbao\",\"zhangshang\",\"huadaozhengxin\",\"chengweixin\",\"yunmi\",\"dichang\",\"hujinshidai\",\"xiaocong\",\"huabojinfu\",\"huixiangtiancheng2\",\"samoye\",\"wanghuijinrong\",\"qichen\",\"dianchou\",\"ningmeng\",\"yicheng02\",\"ximan\",\"puhui\",\"fengfuzhifu\",\"xinlianzhengxin\",\"chengshu\",\"hedaokeji\",\"riskCtrl\",\"xinmeida\",\"xiaoxin2\",\"jingdongyun\",\"bairongjinfu\",\"ping\",\"qianhui\",\"chuyunkeji\",\"tianyi\",\"sanjiangshujin\",\"huangweiyiAuth\",\"dingyi\",\"jindanlicai\",\"aiqi\",\"zengxintong\",\"banma\",\"xiaodai1111\"]\n      } else if (value === 'IdNamePhotoCheck') {\n        loginNames = [\"songshunxinxi\",\"shiyukeji\",\"feizhu\",\"renrun\",\"jinlianhuitong\",\"gotoway\",\"doufu\",\"yucunkeji\",\"changjiezhifu\",\"alading\",\"guoxin\",\"guoxinyouyi\",\"hzkj2018\",\"guli\",\"shandikeji\",\"xinyada\",\"shengdunkeji\",\"jixin\",\"nuozhengtong\",\"yilian\",\"jiupai\",\"chengduzhidao\",\"pengyuan\",\"moxieshuju\",\"hengxintong\",\"kangruide\",\"tuopurenli\",\"tongfudun\",\"yiqian\",\"jixiang\",\"weipintest\",\"tianxingshuke\",\"jixiang2018\",\"sixixinxi\",\"qianlaiwang\",\"hangzhouzhuokai\",\"shumaikeji\",\"huoshuju\",\"testOnline\",\"zhonglianshangwu\",\"qianyankeji\",\"huiyuekeji\",\"songhongkeji\",\"ruanzhi\",\"huifu\",\"youmeng0423\",\"chengweixin\",\"chengshu\",\"xinmeida\",\"huangweiyiAuth\",\"dingyi\",\"aiqi\",\"zengxintong\"]\n      } else {\n        loginNames = [\"hanxin\", \"testOnline\", \"huangweiyiAuth\"]\n      }\n      return loginNames\n    },\n    realTime () {\n      // let startTime = + new Date() - 1 * 24 * 3600 * 1000\n      let startTime = + new Date('2018-11-20 17:25:36') - 1 * 24 * 3600 * 1000\n      let arr = []\n      for (let i = 0; i <= 1440; i++) {\n        arr.push(moment(startTime + (i * 60 * 1000)).format('YYYYMMDDHHmm'))\n      }\n      this.minutesArr = arr\n      let url = '/qualityanalyze/customer/realTime'\n      this.formInline.date = moment(+new Date()).format('YYYY-MM-DD HH:mm:ss')\n      this.formInline.loginNames = this.getCoustomer(this.serviceName)\n      this.formInline.serviceNames.push(this.serviceName)\n      $http(url, this.formInline).then((res) => {\n        var myChart = echarts.init(this.$refs.charts)\n        myChart.clear()\n        let dataArr = Object.keys(res.resData.avgCallTime) /* 因为返回是个对象 所以提取对象的key并组成一个数组 这是平均相应时长*/\n        if (dataArr && dataArr.length > 0) {\n          this.flag = true\n          let data = res.resData.avgCallTime\n          let dataCall = res.resData.callNum\n          let dataNeed = res.resData.needChargeCallNum\n          let xFiled = [] /* x轴数据 */\n          let yFiled = [] /* y平均响应时间y轴数据 */\n          let yCallFiled = [] /* 平均调用量y轴数据 */\n          let yNeedFiled = [] /* 平均调用量y轴数据 */\n          let handleObj = {}\n          this.minutesArr.forEach(v => {\n            if (data[v]) { /* 检测某个点是否存在 则不动 反之 补一个空  这样写的好处 就是不会改变时间点的顺序 */\n              handleObj[v] = data[v]\n            } else {\n              handleObj[v] = ''\n            }\n          })\n          for (let k in handleObj) {\n            xFiled.push(this.substrTime(k)) /* x轴 */\n            yFiled.push(handleObj[k]) /* y轴 */\n            if (dataCall[k]) {\n              yCallFiled.push(dataCall[k])\n            } else {\n              yCallFiled.push('')\n            }\n            if (dataNeed[k]) {\n              yNeedFiled.push(dataNeed[k])\n            } else {\n              yNeedFiled.push('')\n            }\n          }\n          let lineData = [{\n            \"name\": \"实时响应分析（ms）\",\n            type: 'line',\n            smooth: true, //是否平滑曲线显示\n            lineStyle: { //线条样式 \n              normal: {\n                width: 1,\n                color: 'rgba(44,181,171, 1)'\n              }\n            },\n            areaStyle: { //区域填充样式\n              normal: {\n                //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\n                color: 'rgba(44,181,171, 0.3)'\n              }\n            },\n            itemStyle: { //折现拐点标志的样式\n              normal: {\n                color: 'rgba(44,181,171, 1)'\n              }\n            },\n            \"data\": yFiled\n          }, {\n            \"name\": \"实时调用量（条）\",\n            type: 'line',\n            yAxisIndex: 1,\n            smooth: true, //是否平滑曲线显示\n            lineStyle: { //线条样式 \n              normal: {\n                width: 1,\n                color: 'rgb(248,168,159)'\n              }\n            },\n            areaStyle: { //区域填充样式\n              normal: {\n                //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\n                color: 'rgb(248,168,159,.3)'\n              }\n            },\n            itemStyle: { //折现拐点标志的样式\n              normal: {\n                color: 'rgb(248,168,159)'\n              }\n            },\n            \"data\": yCallFiled\n          }, {\n            \"name\": \"实时计费调用量（条）\",\n            type: 'line',\n            yAxisIndex: 1,\n            smooth: true, //是否平滑曲线显示\n            lineStyle: { //线条样式 \n              normal: {\n                width: 1,\n                color: 'rgba(145,191,93,1)'\n              }\n            },\n            areaStyle: { //区域填充样式\n              normal: {\n                //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\n                color: 'rgba(145,191,93,.3)'\n              }\n            },\n            itemStyle: { //折现拐点标志的样式\n              normal: {\n                color: 'rgba(145,191,93,1)'\n              }\n            },\n            \"data\": yNeedFiled\n          }]\n          myChart.setOption(setOtherLineData(xFiled, lineData))\n          window.onresize = function () {\n            myChart.resize()\n          }\n        } else {\n          this.flag = false\n        }\n      })\n    },\n    onSubmit () {\n      this.playerInterVal()\n    },\n    substrTime (params) {\n      return params.substr(params.length - 4).substr(0, 2) + ':' + params.substr(params.length - 4).substr(2, 4)\n    },\n    setIntervalFun () {\n      if (this.timeId) {\n        clearInterval(this.timeId); /* 每次调用定时器 先清除定时器 */\n      }\n      this.realTime() /* 第一次调用 */\n      this.timeId = setInterval(this.playerInterVal, 1000 * 60);\n    },\n    playerInterVal () {\n      this.m++\n      if (this.m > 20) { /* 执行20次以后清除定时器 */\n        this.m = 0\n        this.setIntervalFun() /* 重启定时器 */\n      } else {\n        this.realTime()\n      }\n    }\n  },\n  mounted() {\n    this.services()\n  }\n}\n",{"version":3,"sources":["ServiceAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ServiceAnalysis.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n  <div class=\"template-wrapper\">\r\n    <div class=\"card-wrapper\">\r\n      <div class=\"card-title\">\r\n        查询条件\r\n      </div>\r\n      <div class=\"card-container\">\r\n        <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n          <el-form-item label=\"服务名称：\">\r\n            <el-select v-model.trim=\"serviceName\"\r\n              filterable\r\n              placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in serviceArr\"\r\n                :key=\"item.serviceName\"\r\n                :label=\"item.serviceNameZh\"\r\n                :value=\"item.serviceName\">\r\n                <span style=\"float: left\">{{ item.serviceNameZh }}</span>\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item class=\"card-query\">\r\n            <el-button type=\"primary\" @click=\"onSubmit\" round>查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <div class=\"card-wrapper card-content\">\r\n      <div class=\"card-title\">\r\n        查询结果\r\n      </div>\r\n      <div class=\"card-container\">\r\n        <div :class=\"flag ?'':'no-charts'\" ref=\"charts\" style=\"height:400px;\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import $http from '../common/js/api'\r\n  import moment from 'moment'\r\n  import { setOtherLineData } from '../common/js/myCharts'\r\n  import echarts from 'echarts'\r\n  export default {\r\n    data() {\r\n      return {\r\n        formInline: {\r\n          serviceNames: []\r\n        },\r\n        serviceName: '',\r\n        serviceArr: [],\r\n        customerArr: [],\r\n        flag: false,\r\n        minutesArr: [],\r\n        timeId: null,\r\n        m: 0\r\n      }\r\n    },\r\n    methods: {\r\n      services () {\r\n        let url = '/operation/down/queryServices'\r\n        $http(url, {}, 'get').then((res) => {\r\n          this.serviceArr = res.resData\r\n          if (this.serviceArr && this.serviceArr.length) {\r\n            this.serviceName = this.serviceArr[0].serviceName\r\n          }\r\n        })\r\n      },\r\n      getCoustomer (value) {\r\n        let loginNames = []\r\n        if (value === 'IDNameCheck') {\r\n          loginNames = [\"taimiaoxinxi\",\"yunchen\",\"beidou\",\"yunfeng\",\"beikejinkong\",\"qinzhishuma\",\"test\",\"58jinrong01\",\"weiyankeji\",\"ruisai\",\"jiean\",\"chuanglan\",\"yijifu\",\"suyouda\",\"songshunxinxi\",\"lianjinsuo\",\"ruanyinantong\",\"duanhuanhuan\",\"VULOG\",\"qianbaohaoche\",\"xinqiang\",\"xinzuhui\",\"jiayinzhengxin\",\"tianqiguofu\",\"qian\",\"youzu\",\"shiyukeji\",\"hongyuan\",\"milianyunchuang\",\"ningmi\",\"yundaikeji\",\"zijin\",\"zhongjinhang\",\"shengjinnong\",\"haoxin\",\"choushane\",\"kafeijinrong\",\"panwan\",\"tianchuang1\",\"renrun\",\"tanzhishuju\",\"xinqiandai\",\"jinlianhuitong\",\"aibaojiazheng\",\"xianfengzhifu\",\"gotoway\",\"shujubao\",\"guangfubao\",\"Simon0328\",\"hongxin\",\"baiqishi\",\"chedun0820\",\"xiaoxin\",\"yishou\",\"zhonghang\",\"shoukuliandiao\",\"yucunkeji\",\"changjiezhifu\",\"shengdatest\",\"yuqiang\",\"yishouyin\",\"tongcheng\",\"beitaijinfu\",\"meituan\",\"fenmi\",\"test0826\",\"lianghaodai\",\"xiangyunteng\",\"yimei\",\"guoxinyouyi\",\"zhenge\",\"tongzheng\",\"tielong\",\"testSimon1\",\"wangtouwang\",\"dajiaying\",\"xiaoshidai\",\"shandianhebao\",\"lingxianjinrong\",\"weisudai\",\"jihuojie\",\"renrenhunlian\",\"qianbao\",\"ronghui\",\"quanmuxing\",\"testHuafu\",\"nuoya\",\"huixiangtiancheng\",\"xinhuashuju\",\"tiantianouya\",\"zishuipan\",\"lingjiang\",\"qiyidai\",\"youli2\",\"yincai\",\"test_alarm\",\"runhengfeng\",\"zhongsheng\",\"zhoushouyes\",\"xinyada\",\"zhaoweibin\",\"jiangxin\",\"shualiankeji\",\"shengdunkeji\",\"bjdingxiang\",\"tianying\",\"xiaodouding\",\"wangzhejinka\",\"shangbang\",\"huixiang\",\"xinjiyuan\",\"91zhengxin\",\"shuzun\",\"mobaikeji\",\"jixin\",\"chuanhuazhifu\",\"yibaba\",\"huafuxinxi\",\"testMoney\",\"zewei\",\"koudai\",\"wanggang\",\"puhuishuju\",\"momo\",\"shengfutong\",\"changan\",\"fenglihe\",\"nuozhengtong\",\"baishiyi\",\"wolaidai\",\"yilianyinhang\",\"bingjian\",\"yilian\",\"yishangdai\",\"zhironghui\",\"dianchou2\",\"hongshu\",\"jiupai\",\"testjd\",\"鱼耀金融\",\"jinyuntong\",\"zhongchengxin01\",\"kunying\",\"shunjingfa\",\"xianjinzhuanche\",\"zupukeji\",\"zhoubingyang\",\"bangfubao\",\"rongdou0913\",\"chengduzhidao\",\"pengju\",\"ruirongtianxia\",\"wolongdashuju\",\"tuniu\",\"moxieshuju\",\"quanbeikeji\",\"zhigu\",\"jingzhenshidai\",\"dingxiang2018\",\"jiazhengzhijia\",\"youli1\",\"qianlong\",\"yiwangxi\",\"baite\",\"yicheng\",\"yamu\",\"kaijie\",\"haier\",\"tongzhanggui\",\"handi\",\"test2\",\"jingjing\",\"youxin\",\"juheshuju0208\",\"shimingbao\",\"xinglv\",\"chengxin\",\"taida\",\"yixun2016\",\"jiuyuan\",\"qianbaojinfu\",\"zhongyanyitong\",\"kangruide\",\"chuanhuahuiyuan\",\"tuling\",\"daoshengkeji\",\"suanhua\",\"beifu\",\"junxin\",\"hefeiyuying\",\"limu\",\"hengaikeji\",\"touna\",\"chuangming\",\"tongfudun\",\"jiajiacaifu\",\"zhangpeiyus\",\"zhonghaiwai\",\"taishancaichan\",\"jinxunhechuang\",\"jinyungtong\",\"tianyi3\",\"wangrunjinfu\",\"hujinshidai2018\",\"jizhi\",\"yinshengzhifu\",\"qianyi\",\"jiayoutong\",\"cjtest\",\"bianlidai\",\"maidanxia\",\"zhangcunbao\",\"bangfutong\",\"shanxica\",\"shujing\",\"yinhuotong\",\"zhonghuizhifu\",\"anrongzhengxin\",\"haitun\",\"huoke\",\"qianbaowangjin1111\",\"jienuo\",\"anhe\",\"zhongxinlihe\",\"yige\",\"fuqing\",\"qianchen\",\"duomi\",\"xiaodai\",\"quancun\",\"wenhai\",\"weipintest\",\"weichengzx\",\"JSguangdian\",\"dongxiao\",\"dongfangmingzhu\",\"58jinrong\",\"shujubao01\",\"wuxingkonggu\",\"aixixinxi\",\"shandiandai\",\"dianshen\",\"shanglong\",\"anbao\",\"milidai\",\"hangzhouhedun\",\"xinhua\",\"tianxingshuke\",\"fuafuxinxi\",\"xsProduction\",\"sixixinxi\",\"zunxin\",\"liantongzhineng\",\"moxiekeji\",\"tongjidaxue\",\"zhongqing\",\"chuangshihuaxin\",\"hemaxinxi\",\"huadaoshuju\",\"tiantianlicai\",\"xiaoerduo\",\"yiliankeji\",\"hanxin\",\"fnc\",\"wanjiajinrong\",\"daxin\",\"deke\",\"youbei\",\"shenzhourong2\",\"FESCO\",\"dianjin\",\"zhuyinsuo\",\"legua\",\"dexinpuhui\",\"duanweizhis\",\"geile\",\"jiujinsuo\",\"xiangyue\",\"xinyanzhengxin2\",\"weishidun\",\"guazi\",\"kuaifutong\",\"dingfengjinrong\",\"member\",\"shumaikeji\",\"qianbaobaoli\",\"shouqian\",\"shulian\",\"yifeng\",\"zhongyuanjinrong\",\"chaocai\",\"shoushan\",\"xinlang\",\"hefeizishang\",\"huoshuju\",\"xindaxin\",\"lianshengxinding\",\"yuhaihengtong\",\"shenmajinrong\",\"test_MM\",\"heyunchou\",\"nanjingkuaige2\",\"songshujinrong\",\"testOnline\",\"hepu\",\"shuqu\",\"banjinwang\",\"shunfengjinrong\",\"shenghuoke\",\"zhuyingbaobao\",\"changxin\",\"zhonglianshangwu\",\"chengxiaofei\",\"yuanqidan\",\"youshukeji\",\"shengda\",\"zhongjin\",\"yingdong\",\"zhongyuanjinrong2\",\"xiaoshi\",\"qianbaowangjin\",\"shangtong\",\"fenjinshe\",\"qianyankeji\",\"huiyuekeji\",\"songhongkeji\",\"xianzaizhifu\",\"ruanzhi\",\"huangfeng\",\"zhongli\",\"renhezhong2\",\"zhongankeji\",\"zhongyou\",\"kubao\",\"fuyu\",\"zhaocai\",\"yichenkeji\",\"zhongshenzichan\",\"zhongrongjin\",\"fujinsuo\",\"huifu\",\"bajieqianbao\",\"nanlang\",\"youyu\",\"jiaozhen\",\"shuyunpuhui\",\"wukongzuche\",\"taiyuan\",\"yinchu\",\"kbcs\",\"shulixinxi\",\"qiuce\",\"longze\",\"youmeng0423\",\"suanli\",\"bailianyouli\",\"huazhong\",\"wenzhouliquan\",\"lianshengxd\",\"gxtest\",\"yunyihutong\",\"fanchi\",\"youdun\",\"shenzhouweizhi\",\"xiandaiwuliu\",\"gegejia\",\"linggao\",\"yunyexinxi\",\"daolonghuaer\",\"lvxun\",\"guojiawuliu\",\"yongyizhifu\",\"sanbao\",\"zhangshang\",\"huadaozhengxin\",\"chengweixin\",\"yunmi\",\"dichang\",\"hujinshidai\",\"xiaocong\",\"huabojinfu\",\"huixiangtiancheng2\",\"samoye\",\"wanghuijinrong\",\"qichen\",\"dianchou\",\"ningmeng\",\"yicheng02\",\"ximan\",\"puhui\",\"fengfuzhifu\",\"xinlianzhengxin\",\"chengshu\",\"hedaokeji\",\"riskCtrl\",\"xinmeida\",\"xiaoxin2\",\"jingdongyun\",\"bairongjinfu\",\"ping\",\"qianhui\",\"chuyunkeji\",\"tianyi\",\"sanjiangshujin\",\"huangweiyiAuth\",\"dingyi\",\"jindanlicai\",\"aiqi\",\"zengxintong\",\"banma\",\"xiaodai1111\"]\r\n        } else if (value === 'IdNamePhotoCheck') {\r\n          loginNames = [\"songshunxinxi\",\"shiyukeji\",\"feizhu\",\"renrun\",\"jinlianhuitong\",\"gotoway\",\"doufu\",\"yucunkeji\",\"changjiezhifu\",\"alading\",\"guoxin\",\"guoxinyouyi\",\"hzkj2018\",\"guli\",\"shandikeji\",\"xinyada\",\"shengdunkeji\",\"jixin\",\"nuozhengtong\",\"yilian\",\"jiupai\",\"chengduzhidao\",\"pengyuan\",\"moxieshuju\",\"hengxintong\",\"kangruide\",\"tuopurenli\",\"tongfudun\",\"yiqian\",\"jixiang\",\"weipintest\",\"tianxingshuke\",\"jixiang2018\",\"sixixinxi\",\"qianlaiwang\",\"hangzhouzhuokai\",\"shumaikeji\",\"huoshuju\",\"testOnline\",\"zhonglianshangwu\",\"qianyankeji\",\"huiyuekeji\",\"songhongkeji\",\"ruanzhi\",\"huifu\",\"youmeng0423\",\"chengweixin\",\"chengshu\",\"xinmeida\",\"huangweiyiAuth\",\"dingyi\",\"aiqi\",\"zengxintong\"]\r\n        } else {\r\n          loginNames = [\"hanxin\", \"testOnline\", \"huangweiyiAuth\"]\r\n        }\r\n        return loginNames\r\n      },\r\n      realTime () {\r\n        // let startTime = + new Date() - 1 * 24 * 3600 * 1000\r\n        let startTime = + new Date('2018-11-20 17:25:36') - 1 * 24 * 3600 * 1000\r\n        let arr = []\r\n        for (let i = 0; i <= 1440; i++) {\r\n          arr.push(moment(startTime + (i * 60 * 1000)).format('YYYYMMDDHHmm'))\r\n        }\r\n        this.minutesArr = arr\r\n        let url = '/qualityanalyze/customer/realTime'\r\n        this.formInline.date = moment(+new Date()).format('YYYY-MM-DD HH:mm:ss')\r\n        this.formInline.loginNames = this.getCoustomer(this.serviceName)\r\n        this.formInline.serviceNames.push(this.serviceName)\r\n        $http(url, this.formInline).then((res) => {\r\n          var myChart = echarts.init(this.$refs.charts)\r\n          myChart.clear()\r\n          let dataArr = Object.keys(res.resData.avgCallTime) /* 因为返回是个对象 所以提取对象的key并组成一个数组 这是平均相应时长*/\r\n          if (dataArr && dataArr.length > 0) {\r\n            this.flag = true\r\n            let data = res.resData.avgCallTime\r\n            let dataCall = res.resData.callNum\r\n            let dataNeed = res.resData.needChargeCallNum\r\n            let xFiled = [] /* x轴数据 */\r\n            let yFiled = [] /* y平均响应时间y轴数据 */\r\n            let yCallFiled = [] /* 平均调用量y轴数据 */\r\n            let yNeedFiled = [] /* 平均调用量y轴数据 */\r\n            let handleObj = {}\r\n            this.minutesArr.forEach(v => {\r\n              if (data[v]) { /* 检测某个点是否存在 则不动 反之 补一个空  这样写的好处 就是不会改变时间点的顺序 */\r\n                handleObj[v] = data[v]\r\n              } else {\r\n                handleObj[v] = ''\r\n              }\r\n            })\r\n            for (let k in handleObj) {\r\n              xFiled.push(this.substrTime(k)) /* x轴 */\r\n              yFiled.push(handleObj[k]) /* y轴 */\r\n              if (dataCall[k]) {\r\n                yCallFiled.push(dataCall[k])\r\n              } else {\r\n                yCallFiled.push('')\r\n              }\r\n              if (dataNeed[k]) {\r\n                yNeedFiled.push(dataNeed[k])\r\n              } else {\r\n                yNeedFiled.push('')\r\n              }\r\n            }\r\n            let lineData = [{\r\n              \"name\": \"实时响应分析（ms）\",\r\n              type: 'line',\r\n              smooth: true, //是否平滑曲线显示\r\n              lineStyle: { //线条样式 \r\n                normal: {\r\n                  width: 1,\r\n                  color: 'rgba(44,181,171, 1)'\r\n                }\r\n              },\r\n              areaStyle: { //区域填充样式\r\n                normal: {\r\n                  //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\r\n                  color: 'rgba(44,181,171, 0.3)'\r\n                }\r\n              },\r\n              itemStyle: { //折现拐点标志的样式\r\n                normal: {\r\n                  color: 'rgba(44,181,171, 1)'\r\n                }\r\n              },\r\n              \"data\": yFiled\r\n            }, {\r\n              \"name\": \"实时调用量（条）\",\r\n              type: 'line',\r\n              yAxisIndex: 1,\r\n              smooth: true, //是否平滑曲线显示\r\n              lineStyle: { //线条样式 \r\n                normal: {\r\n                  width: 1,\r\n                  color: 'rgb(248,168,159)'\r\n                }\r\n              },\r\n              areaStyle: { //区域填充样式\r\n                normal: {\r\n                  //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\r\n                  color: 'rgb(248,168,159,.3)'\r\n                }\r\n              },\r\n              itemStyle: { //折现拐点标志的样式\r\n                normal: {\r\n                  color: 'rgb(248,168,159)'\r\n                }\r\n              },\r\n              \"data\": yCallFiled\r\n            }, {\r\n              \"name\": \"实时计费调用量（条）\",\r\n              type: 'line',\r\n              yAxisIndex: 1,\r\n              smooth: true, //是否平滑曲线显示\r\n              lineStyle: { //线条样式 \r\n                normal: {\r\n                  width: 1,\r\n                  color: 'rgba(145,191,93,1)'\r\n                }\r\n              },\r\n              areaStyle: { //区域填充样式\r\n                normal: {\r\n                  //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。\r\n                  color: 'rgba(145,191,93,.3)'\r\n                }\r\n              },\r\n              itemStyle: { //折现拐点标志的样式\r\n                normal: {\r\n                  color: 'rgba(145,191,93,1)'\r\n                }\r\n              },\r\n              \"data\": yNeedFiled\r\n            }]\r\n            myChart.setOption(setOtherLineData(xFiled, lineData))\r\n            window.onresize = function () {\r\n              myChart.resize()\r\n            }\r\n          } else {\r\n            this.flag = false\r\n          }\r\n        })\r\n      },\r\n      onSubmit () {\r\n        this.playerInterVal()\r\n      },\r\n      substrTime (params) {\r\n        return params.substr(params.length - 4).substr(0, 2) + ':' + params.substr(params.length - 4).substr(2, 4)\r\n      },\r\n      setIntervalFun () {\r\n        if (this.timeId) {\r\n          clearInterval(this.timeId); /* 每次调用定时器 先清除定时器 */\r\n        }\r\n        this.realTime() /* 第一次调用 */\r\n        this.timeId = setInterval(this.playerInterVal, 1000 * 60);\r\n      },\r\n      playerInterVal () {\r\n        this.m++\r\n        if (this.m > 20) { /* 执行20次以后清除定时器 */\r\n          this.m = 0\r\n          this.setIntervalFun() /* 重启定时器 */\r\n        } else {\r\n          this.realTime()\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.services()\r\n    }\r\n  }\r\n</script>"]}]}