{"remainingRequest":"D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\operate_system\\src\\components\\SensitiveWord.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\operate_system\\src\\components\\SensitiveWord.vue","mtime":1543376220530},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\babel-loader\\lib\\index.js","mtime":1542166452696},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1542166473519}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport $http from '../common/js/api'\nimport { showModal } from '../utils'\nexport default {\n  data() {\n    return {\n      multipleSelection: [],\n      formInline: {\n        illegalWords: ''\n      },\n      illegalWordsArr: []\n    }\n  },\n  mounted() {\n    this.searchIllegalWords()\n  },\n  methods: {\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    onSubmit () {\n      this.searchIllegalWords()\n    },\n    searchIllegalWords () {\n      let url = '/msc/searchIllegalWords'\n      $http(url, this.formInline).then((res) => {\n        this.illegalWordsArr = []\n        this.illegalWordsArr = JSON.parse(res.RESULT_DATA).rows\n      })\n    },\n    add () {\n      let url = '/msc/addIllegalWords'\n      $http(url, this.formInline).then((res) => {\n        if (res.RESULT === '0') {\n          this.formInline.illegalWords = ''\n          showModal(res.RESULT_MSG)\n          this.searchIllegalWords()\n        } else {\n          showModal(res.RESULT_MSG, 'warning')\n        }\n      })\n    },\n    removeIllegalWords (opt) {\n      let url = '/msc/removeIllegalWords'\n      this.$confirm('确定删除该敏感词?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        $http(url, opt).then((res) => {\n          if (res.RESULT === '0') {\n            showModal(res.RESULT_MSG)\n            this.searchIllegalWords()\n          } else {\n            showModal(res.RESULT_MSG, 'warning')\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        })       \n      })\n    },\n    // 单个删除\n    deleteRow(index, rows) {\n      let opt = {ids: rows[index].id}\n      this.removeIllegalWords(opt)\n    },\n    // 批量删除\n    deleteMut () {\n      if (!this.multipleSelection.length) {\n        showModal('请选择删除的敏感词', 'warning')\n        return\n      }\n      let ids = []\n      this.multipleSelection.forEach(v => {\n        ids.push(v.id)\n      })\n      this.removeIllegalWords({ids : ids.join(',')})\n    }\n  },\n}\n",null]}