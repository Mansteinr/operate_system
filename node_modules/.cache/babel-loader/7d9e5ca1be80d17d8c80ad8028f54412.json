{"remainingRequest":"D:\\operate_system\\node_modules\\babel-loader\\lib\\index.js!D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\operate_system\\src\\components\\QueryLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\operate_system\\src\\components\\QueryLog.vue","mtime":1543376220525},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\babel-loader\\lib\\index.js","mtime":1542166452696},{"path":"D:\\operate_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1542166466337},{"path":"D:\\operate_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1542166473519}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport $http from '../common/js/api';\nimport moment from 'moment';\nimport Pagination from '../base/Pagination';\nexport default {\n  data: function data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      tatalPage: 0,\n      search: '',\n      value1: moment(+new Date()).format('YYYY-MM-DD'),\n      value2: new Date(new Date().getTime() - 60 * 5 * 1000),\n      value3: new Date(),\n      formInline: {\n        serviceName: '',\n        loginName: ''\n      },\n      bussinessType: '全部',\n      tableData: [],\n      customerArr: [],\n      serviceArr: [],\n      bussinessList: [{\n        label: '全部',\n        value: '全部'\n      }, {\n        label: '金融公司',\n        value: '金融公司'\n      }, {\n        label: '数据公司',\n        value: '数据公司'\n      }, {\n        label: '租车',\n        value: '租车'\n      }, {\n        label: '婚恋',\n        value: '婚恋'\n      }, {\n        label: '其他',\n        value: '其他'\n      }]\n    };\n  },\n  components: {\n    Pagination: Pagination\n  },\n  computed: {\n    tableDataComputed: function tableDataComputed() {\n      if (this.tableData && this.tableData.length) {\n        var start = this.pageSize * (this.currentPage - 1);\n        var end = Math.min(this.pageSize * this.currentPage, this.tableData.length);\n        return this.tableData.slice(start, end);\n      } else {\n        return [];\n      }\n    }\n  },\n  methods: {\n    changePage: function changePage(value) {\n      this[value.split('-')[0]] = value.split('-')[1] / 1;\n    },\n    // queryCustomers () {\n    //   let url = '/operation/down/queryCustomers'\n    //   $http(url, {}, 'get').then((res) => {\n    //     if (res.resData.length) {\n    //       this.customerArr = res.resData\n    //       if (this.customerArr.length) {\n    //         this.formInline.loginName = this.customerArr[0].loginName\n    //       }\n    //     }\n    //   })\n    // },\n    services: function services() {\n      var _this = this;\n\n      var url = '/operation/down/queryServices';\n      $http(url, {}, 'get').then(function (res) {\n        _this.serviceArr = res.resData;\n\n        if (_this.serviceArr.length) {\n          _this.formInline.serviceName = _this.serviceArr[0].serviceName;\n        }\n      });\n    },\n    log: function log(params) {\n      var _this2 = this;\n\n      var url = '/operator/logs';\n      $http(url, params).then(function (res) {\n        _this2.tableData = res.resData;\n        _this2.tatalPage = _this2.tableData.length;\n      });\n    },\n    onSubmit: function onSubmit() {\n      this.formInline.end = this.value1 + ' ' + moment(this.value3).format('HH:mm:ss');\n      this.formInline.start = this.value1 + ' ' + moment(this.value2).format('HH:mm:ss');\n      this.formInline.params = {};\n      this.formInline.loginName = '';\n      this.log(this.formInline);\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      if (val) {\n        this.pageSize = val;\n      } else {\n        this.pageSize = this.tableData.length;\n      }\n    },\n    filterTable: function filterTable(data) {\n      return !this.search || data.ip.toLowerCase().includes(this.search.toLowerCase()) || (data.loginName + '').toLowerCase().includes(this.search.toLowerCase()) || (data.guid + '').toLowerCase().includes(this.search.toLowerCase()) || (data.costTime_all + '').toLowerCase().includes(this.search.toLowerCase());\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    formatterTime: function formatterTime(row) {\n      return moment(row.beginTime).format('YYYY-MM-DD HH:mm:ss');\n    },\n    formatterParam: function formatterParam(row) {\n      var html = '';\n\n      for (var key in row.param) {\n        var label = key;\n\n        switch (key) {\n          case 'accountNo':\n            label = '银行卡号';\n            break;\n\n          case 'idCard':\n            label = '身份证号';\n            break;\n\n          case 'mobile':\n            label = '手机号码';\n            break;\n\n          case 'name':\n            label = '姓名';\n            break;\n\n          case 'plateNumber':\n            label = '车牌号';\n            break;\n\n          case 'plateType':\n            label = '号牌种类';\n            break;\n\n          default:\n            label = key;\n            break;\n        }\n\n        if (key == 'accountNo' || key == 'idCard' || key == 'mobile' || key == 'name' || key == 'plateNumber' || key == 'plateType') {\n          html += '<span class=\"param-item\" title=\"' + label + ': ' + row.param[key] + '\">' + label + ': ' + row.param[key] + '</span>';\n        }\n      }\n\n      return html;\n    }\n  },\n  mounted: function mounted() {\n    // this.queryCustomers()\n    this.services();\n  }\n};",null]}